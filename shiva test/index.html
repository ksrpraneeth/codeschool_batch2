<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

    <title>Registration</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>

    <section class="vh-100 bg-image"
    style="background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
    <div class="mask d-flex align-items-center h-100 gradient-custom-3">
      <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
          <div class="col-12 col-md-9 col-lg-7 col-xl-6">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body p-4">
                <h2 class="text-uppercase text-center mb-5">Create an account</h2>
  
                <form>
  
                  <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example1cg">Username</label>
                    <input type="text" id="usernameid" class="form-control form-control-lg" placeholder="Enter Username" />
                  </div>
  
                  <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example3cg"> Email</label>
                    <input type="email" id="emailInput" class="form-control form-control-lg" placeholder="Enter email"/>
                  </div>
  
                  <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example4cg">Password</label>
                    <input type="password" id="passwordInput" class="form-control form-control-lg"  placeholder="Enter Password"/>
                  </div>


                <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example4cg">Date of Birth</label>
                    <input type="date" id="datetimepicker5" class="form-control form-control-lg" />
                  </div>

                <div class="row">
                    <p id = "error" class="text-danger"></p>
                </div>
  
                  <div class="d-flex justify-content-center">
                    <button type="button"
                      class="btn btn-success btn-block btn-lg gradient-custom-4 text-body" id="submitButton">Register</button>
                  </div>

                  <p class="text-center text-muted mt-5 mb-0">Have already an account?<button type="button" class="btn btn-primary" id="login">Login here</button></p>

                </form>
  
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</body>
<script>
//  if (localStorage.getItem('user_data')) {
//         window.location.replace("login.html");
//     }
    
    $('#submitButton').click(function () {
        var formData = {
            username: $('#usernameid').val(),
            email: $('#emailInput').val(),
            password: $('#passwordInput').val(),
            date_of_birth: $('#datetimepicker5').val()
        }
        $.ajax({
            type: "POST",
            url:"registration.php",
            data:formData,
            success:function(response,status,xhr){
                response = JSON.parse(response);
                if(response.status){
                    window.alert(response.message);
                    window.location.replace("index.html");
                }else{
                    $('#error').text(response.message);
                }
            },
            error:function(){

            }
        })
       
          });

          $('#login').click(function () {
          window.location.replace("login.html");

        })


</script>

</html>